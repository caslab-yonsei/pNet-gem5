#!/bin/bash
# Authors: Mohammad Alian <malian2@illinois.edu>
# boot gem5 and take a checkpoint
#
# The idea of this script is the same as
# "configs/boot/hack_back_ckpt.rcS" by Joel Hestness
# Please look into that for more info
#
source /root/.bashrc

/bin/hostname node${MY_RANK}

((MY_ADDR = MY_RANK + 2))

MY_ADDR_PADDED=0${MY_ADDR}

#insmod /home/nepu1000.ko
/sbin/ifconfig eth0 hw ether 00:90:00:00:00:${MY_ADDR_PADDED}
/sbin/ifconfig eth0 192.168.0.${MY_ADDR} netmask 255.255.255.0 up

/sbin/ifconfig -a

cat /proc/interrupts

lspci
# take a checkpoint
/sbin/m5 exit 1



